@startuml
set separator none
title Referential System â€“ Components

top to bottom direction

!include <C4/C4>
!include <C4/C4_Context>
!include <C4/C4_Container>
!include <C4/C4_Component>

System(TEDSCoreSystem, "TEDS Core System", $descr="DOS platform including microservices and core business logic", $tags="", $link="")
System(PS9Application, "PS9 Application", $descr="Mobile login application", $tags="", $link="")
System(SpyderApplication, "Spyder Application", $descr="Mobile login application", $tags="", $link="")
System(WyzAutoApplication, "WyzAuto Application", $descr="Mobile login application", $tags="", $link="")
System(MARSApplication, "MARS Application", $descr="Mobile login application", $tags="", $link="")
Container(ReferentialSystem.MichelinTyrereferential, "Michelin Tyre referential", $techn="", $descr="Michelin Tyre product referential", $tags="", $link="")
Container(ReferentialSystem.NonMichelinTyrereferential, "Non-Michelin Tyre referential", $techn="", $descr="Non-Michelin Tyre product referential", $tags="", $link="")
Container(ReferentialSystem.WyzAutoNonTyreproductsreferential, "WyzAuto Non-Tyre products referential", $techn="", $descr="Non-tyre products referential", $tags="", $link="")
Container(ReferentialSystem.ManualNonTyreproductsreferential, "Manual Non-Tyre products referential", $techn="", $descr="Manual dump from MARS if WyzAuto is not ready", $tags="", $link="")

Container_Boundary("ReferentialSystem.TEDSTyrereferential_boundary", "TEDS Tyre referential", $tags="") {
  Component(ReferentialSystem.TEDSTyrereferential.Kafkaproducerforreferentialsystem, "Kafka producer for referential-system", $techn="", $descr="", $tags="", $link="")
  Component(ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, "Kafka consumer for referential-system", $techn="", $descr="", $tags="", $link="")
}

Rel(MARSApplication, ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, "Gets non-tyre referential data", $techn="kafka", $tags="", $link="")
Rel(ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, ReferentialSystem.ManualNonTyreproductsreferential, "Gets non-tyre referential data", $techn="kafka", $tags="", $link="")
Rel(ReferentialSystem.TEDSTyrereferential.Kafkaproducerforreferentialsystem, TEDSCoreSystem, "Provides referential data", $techn="kafka", $tags="", $link="")
Rel(PS9Application, ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, "Gets tyre referential data", $techn="kafka", $tags="", $link="")
Rel(ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, ReferentialSystem.MichelinTyrereferential, "Gets tyre referential data", $techn="kafka", $tags="", $link="")
Rel(SpyderApplication, ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, "Gets non-tyre referential data", $techn="kafka", $tags="", $link="")
Rel(ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, ReferentialSystem.NonMichelinTyrereferential, "Gets non-tyre referential data", $techn="kafka", $tags="", $link="")
Rel(WyzAutoApplication, ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, "Gets non-tyre referential data", $techn="API", $tags="", $link="")
Rel(ReferentialSystem.TEDSTyrereferential.Kafkaconsumerforreferentialsystem, ReferentialSystem.WyzAutoNonTyreproductsreferential, "Gets non-tyre referential data", $techn="API", $tags="", $link="")

SHOW_LEGEND(true)
@enduml